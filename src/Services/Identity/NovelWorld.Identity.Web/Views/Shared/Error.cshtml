@using NovelWorld.Data.DTO
@model NovelWorld.Identity.Data.ViewModels.Home.ErrorViewModel

@{
    var errors = (IEnumerable<Error>) (Model?.Errors ?? ViewData["Errors"]);
    var errorCount = errors?.Count() ?? 0;
    var requestId = Model?.RequestId;
}

<div class="error-page">
    <div class="lead">
        <h1>Error</h1>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="alert alert-danger">
                Sorry, there was @(errorCount > 1 ? "errors" : "an error")

                @if (errors != null && errors.Any())
                {
                    @foreach (var error in errors)
                    {
                        <strong>
                            <em>
                                : @error.Code
                            </em>
                        </strong>

                        if (error.Message != null)
                        {
                            <div>@error.Message</div>
                        }
                    }
                }
            </div>

            @if (requestId != null)
            {
                <div class="request-id">Request Id: @requestId</div>
            }
        </div>
    </div>
</div>
